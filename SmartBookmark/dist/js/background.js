!function(e){var t={};function r(a){if(t[a])return t[a].exports;var s=t[a]={i:a,l:!1,exports:{}};return e[a].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(a,s,function(t){return e[t]}.bind(null,s));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=10)}({0:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});class ParameterUtil{static getResolvedUrl(e,t,r){let a=e;return t&&t.items.forEach(e=>{let t=e.value;r.items.has(e.key)&&(t=r.items.get(e.key),a=this.substituteValue(a,e.key,t))}),a}static getAllParameterValues(e,t){let r={items:new Map},a=[];return e&&e.items.forEach(e=>{let s=this.getRuntimeParamValue(e.value,t).then(t=>r.items.set(e.key,t));a.push(s)}),Promise.all(a).then(e=>(console.log("done!"),r))}static getFormattedParamName(e){return"{{"+e+"}}"}static getRuntimeParamValue(paramValue,currentActiveTab){return new Promise((resolve,reject)=>{if(paramValue.indexOf(ParameterUtil.PARAM_TYPE_SEPARATOR)>0){let items=paramValue.split(ParameterUtil.PARAM_TYPE_SEPARATOR),paramValueType=items[0],computedValue=items[1];if(paramValueType==ParameterUtil.PARAM_TYPE_ACTIVE_TAB){let e=items[1];computedValue=this.getActiveTabValue(e,currentActiveTab),resolve(computedValue)}else if(paramValueType==ParameterUtil.PARAM_TYPE_JS_VALUE){let expression=items[1];try{computedValue=eval(expression)}catch(e){console.log(e)}resolve(computedValue)}else paramValueType==ParameterUtil.PARAM_TYPE_ACTIVE_TABE_JS_VALUE&&this.getActiveTabComputedValue(items[1],currentActiveTab).then(e=>{console.log("done!"),resolve(e)})}else resolve(paramValue)})}static getActiveTabComputedValue(e,t){return new Promise((r,a)=>{let s="(function evaluateExpression(){ return "+e+" ;})()";chrome.tabs.executeScript(t.id,{code:s},e=>{e&&e[0]?r(e[0]):r("")})})}static getActiveTabValue(e,t){let r="";if(t&&t.url){r=new URL(t.url)[e]}return r}static substituteValue(e,t,r){return e=e.replace(this.getFormattedParamName(t),r)}}exports.ParameterUtil=ParameterUtil,ParameterUtil.PARAM_TYPE_ACTIVE_TAB="$ActiveTab",ParameterUtil.PARAM_TYPE_JS_VALUE="$Js",ParameterUtil.PARAM_TYPE_ACTIVE_TABE_JS_VALUE="$ActiveTab$Js",ParameterUtil.PARAM_TYPE_SEPARATOR="::"},10:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=r(2);!function e(){console.log("polling"),setTimeout(e,3e4)}(),chrome.runtime.onInstalled.addListener((function(){a.Store.instance.initialize().then(()=>{console.log("Initialize completed")}),chrome.storage.sync.set({color:"#3aa757"},(function(){console.log("The color is green.")}))}))},2:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=r(0);class s{constructor(){this.parameters={items:new Map},this.bookmarks={items:new Map},this.DataModelVersion="1.0"}initializeDefaults(){this.parameters.items.set("PM_1",{id:"PM_1",key:"CurrentTabOrigin",value:a.ParameterUtil.PARAM_TYPE_ACTIVE_TAB+a.ParameterUtil.PARAM_TYPE_SEPARATOR+"origin"}),this.parameters.items.set("PM_2",{id:"PM_2",key:"CurrentTabHost",value:a.ParameterUtil.PARAM_TYPE_ACTIVE_TAB+a.ParameterUtil.PARAM_TYPE_SEPARATOR+"host"}),this.parameters.items.set("PM_3",{id:"PM_3",key:"SampleJSParam",value:a.ParameterUtil.PARAM_TYPE_JS_VALUE+a.ParameterUtil.PARAM_TYPE_SEPARATOR+"'news on ' + new Date().toString()"}),this.parameters.items.set("PM_4",{id:"PM_4",key:"DayOfWeek",value:a.ParameterUtil.PARAM_TYPE_JS_VALUE+a.ParameterUtil.PARAM_TYPE_SEPARATOR+"new Date().toString().split(' ')[0] + 'day'"}),this.parameters.items.set("PM_5",{id:"PM_5",key:"ActiveTabPageTitle",value:a.ParameterUtil.PARAM_TYPE_ACTIVE_TABE_JS_VALUE+a.ParameterUtil.PARAM_TYPE_SEPARATOR+"document.querySelector('title') ? document.querySelector('title').innerText : 'no title';"}),this.parameters.items.set("PM_6",{id:"PM_6",key:"TenantId",value:a.ParameterUtil.PARAM_TYPE_ACTIVE_TABE_JS_VALUE+a.ParameterUtil.PARAM_TYPE_SEPARATOR+'document.querySelector("body > table > tbody > tr:nth-child(3) > td:nth-child(2)").textContent.trim()'}),this.parameters.items.set("PM_7",{id:"PM_7",key:"OrgId",value:a.ParameterUtil.PARAM_TYPE_ACTIVE_TABE_JS_VALUE+a.ParameterUtil.PARAM_TYPE_SEPARATOR+'document.querySelector("body > table > tbody > tr:nth-child(2) > td:nth-child(2)").textContent.trim()'}),this.bookmarks.items.set("BM_1",{id:"BM_1",name:"TenantInfo",url:"{{CurrentTabOrigin}}/qa/cdp/cdp.jsp"}),this.bookmarks.items.set("BM_2",{id:"BM_2",name:"Generate JWT",url:"{{CurrentTabOrigin}}/qa/cdp/generatejwt.jsp"}),this.bookmarks.items.set("BM_3",{id:"BM_3",name:"Mint JWT",url:"{{CurrentTabOrigin}}/qa/cdp/mintedjwt.jsp?issuerId={{OrgId}}&audienceId={{TenantId}}&type=JWT"}),this.bookmarks.items.set("BM_4",{id:"BM_4",name:"News Today",url:"https://www.google.com/search?q={{SampleJSParam}}"}),this.bookmarks.items.set("BM_5",{id:"BM_5",name:"Google Current Host",url:"https://www.google.com/search?q={{CurrentTabHost}}"}),this.bookmarks.items.set("BM_6",{id:"BM_6",name:"Joke on Day",url:"https://www.google.com/search?q=Tell me a joke about {{DayOfWeek}}"}),this.bookmarks.items.set("BM_7",{id:"BM_7",name:"Google Current Page Title",url:"https://www.google.com/search?q={{ActiveTabPageTitle}}"})}initialize(){this.initializeDefaults();let e=this.saveParameters(this.parameters),t=this.saveBookmarks(this.bookmarks);return Promise.all([e,t]).then()}getBookmarks(){return new Promise((e,t)=>{chrome.storage.sync.get("BookmarkList",t=>{let r=s.deserializeBookmarks(t.BookmarkList);e(r)})})}getBookmark(e){return this.getBookmarks().then(t=>t.items.has(e)?t.items.get(e):null)}getParameters(){return new Promise((e,t)=>{chrome.storage.sync.get("ParamList",t=>{let r=s.deserializeParameters(t.ParamList);e(r)})})}getParameter(e){return this.getParameters().then(t=>t.items.has(e)?t.items.get(e):null)}saveParameters(e){return new Promise((t,r)=>{let a=s.serializeParameters(e);chrome.storage.sync.set({ParamList:a},()=>{console.log("Saved parameters"),t()})})}saveBookmarks(e){return new Promise((t,r)=>{let a=s.serializeBookmarks(e);chrome.storage.sync.set({BookmarkList:a},()=>{console.log("Saved bookmarks"),t()})})}addBookmarks(e){return e&&e.length>0?this.getBookmarks().then(t=>(e.forEach(e=>{t.items.set(e.id,e)}),this.saveBookmarks(t))):null}addBookmark(e){return this.getBookmarks().then(t=>(t.items.set(e.id,e),this.saveBookmarks(t)))}deleteBookmark(e){return this.getBookmarks().then(t=>(t.items.delete(e),this.saveBookmarks(t)))}addParameters(e){return e&&e.length>0?this.getParameters().then(t=>(e.forEach(e=>{t.items.set(e.id,e)}),this.saveParameters(t))):null}addParameter(e){return this.getParameters().then(t=>(t.items.set(e.id,e),this.saveParameters(t)))}deleteParameter(e){return this.getParameters().then(t=>(t.items.delete(e),this.saveParameters(t)))}static serializeBookmarks(e){let t="";return e&&(t=JSON.stringify([...e.items])),t}static serializeParameters(e){let t="";return e&&(t=JSON.stringify([...e.items])),t}static deserializeBookmarks(e){return{items:JSON.parse(e).reduce((e,[t,r])=>e.set(t,r),new Map)}}static deserializeParameters(e){return{items:JSON.parse(e).reduce((e,[t,r])=>e.set(t,r),new Map)}}}t.Store=s,s.instance=new s}});